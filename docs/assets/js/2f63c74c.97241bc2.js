"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[176],{3905:(e,t,n)=>{n.d(t,{Zo:()=>m,kt:()=>g});var a=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var s=a.createContext({}),c=function(e){var t=a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},m=function(e){var t=c(e.components);return a.createElement(s.Provider,{value:t},e.children)},d="mdxType",p={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},u=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,l=e.originalType,s=e.parentName,m=o(e,["components","mdxType","originalType","parentName"]),d=c(n),u=r,g=d["".concat(s,".").concat(u)]||d[u]||p[u]||l;return n?a.createElement(g,i(i({ref:t},m),{},{components:n})):a.createElement(g,i({ref:t},m))}));function g(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var l=n.length,i=new Array(l);i[0]=u;var o={};for(var s in t)hasOwnProperty.call(t,s)&&(o[s]=t[s]);o.originalType=e,o[d]="string"==typeof e?e:r,i[1]=o;for(var c=2;c<l;c++)i[c]=n[c];return a.createElement.apply(null,i)}return a.createElement.apply(null,n)}u.displayName="MDXCreateElement"},9339:(e,t,n)=>{n.r(t),n.d(t,{contentTitle:()=>i,default:()=>d,frontMatter:()=>l,metadata:()=>o,toc:()=>s});var a=n(7462),r=(n(7294),n(3905));const l={sidebar_position:2},i="Event factory",o={unversionedId:"events/event-factory",id:"events/event-factory",isDocsHomePage:!1,title:"Event factory",description:"GA4 provides a list of recommended events and automatically-collected events. And for these events Google also provides a list of recommended event parameters.",source:"@site/docs/events/event-factory.md",sourceDirName:"events",slug:"/events/event-factory",permalink:"/dataform-ga4-sessions/events/event-factory",editUrl:"https://github.com/facebook/docusaurus/edit/main/website/docs/events/event-factory.md",tags:[],version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2},sidebar:"tutorialSidebar",previous:{title:"Create an event",permalink:"/dataform-ga4-sessions/events/create-event"},next:{title:"Ecommerce Events",permalink:"/dataform-ga4-sessions/events/ecommerce-events"}},s=[{value:"How to use event factory",id:"how-to-use-event-factory",children:[]},{value:"Event factory methods",id:"event-factory-methods",children:[]},{value:"Create and reuse custom events between projects",id:"create-and-reuse-custom-events-between-projects",children:[]},{value:"Change target schema for all events",id:"change-target-schema-for-all-events",children:[]}],c={toc:s},m="wrapper";function d(e){let{components:t,...n}=e;return(0,r.kt)(m,(0,a.Z)({},c,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"event-factory"},"Event factory"),(0,r.kt)("p",null,"GA4 provides a list of ",(0,r.kt)("a",{parentName:"p",href:"https://developers.google.com/analytics/devguides/collection/ga4/reference/events?client_type=gtm"},"recommended")," events and ",(0,r.kt)("a",{parentName:"p",href:"https://support.google.com/analytics/answer/9234069?hl=en"},"automatically-collected")," events. And for these events Google also provides a list of recommended event parameters."),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"EventFactory")," provides the methods to create all recommended and automatically-collected events, and for each event it also adds standard event parameters. So you don't need to define event parameters manually."),(0,r.kt)("h2",{id:"how-to-use-event-factory"},"How to use event factory"),(0,r.kt)("p",null,"To use ",(0,r.kt)("inlineCode",{parentName:"p"},"EventFactory")," you need to init the object with config and then call the method to create events. EventFactory provides a special method for each event. Using this pattern ",(0,r.kt)("inlineCode",{parentName:"p"},"createEventName")," so for example to create ",(0,r.kt)("inlineCode",{parentName:"p"},"add_to_cart")," event you could use ",(0,r.kt)("inlineCode",{parentName:"p"},"creatAddToCart")," method, for ",(0,r.kt)("inlineCode",{parentName:"p"},"page_view")," event - ",(0,r.kt)("inlineCode",{parentName:"p"},"createPageView")," method and so on. For example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},'const config = {\n  dataset: "analytics_XXXXXX",\n  incrementalTableName: "events_XXXXXX",\n};\nlet ef = new ga4.EventFactory(config);\nlet addToCart = ef.createAddToCart();\nlet pageView = ef.createPageView();\naddToCart.publish();\npageView.publish();\n')),(0,r.kt)("div",{className:"admonition admonition-note alert alert--secondary"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"note")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("p",{parentName:"div"},"Don't forget to publish events after their creation."))),(0,r.kt)("p",null,"These helper methods (like ",(0,r.kt)("inlineCode",{parentName:"p"},"createEventName"),") actually do these steps:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"create a new Event object"),(0,r.kt)("li",{parentName:"ul"},"call ",(0,r.kt)("inlineCode",{parentName:"li"},"setEventName")," with the event name"),(0,r.kt)("li",{parentName:"ul"},"add all recommended event parameters for the particular event using ",(0,r.kt)("inlineCode",{parentName:"li"},"addEventParameters")," method")),(0,r.kt)("h2",{id:"event-factory-methods"},"Event factory methods"),(0,r.kt)("p",null,"You could find a list of supported events in the file ",(0,r.kt)("inlineCode",{parentName:"p"},"includes/recommended_events.js")," or in the table below."),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Method Name"),(0,r.kt)("th",{parentName:"tr",align:null},"Event Name"),(0,r.kt)("th",{parentName:"tr",align:null},"Event Parameters"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"createAddPaymentInfo"),(0,r.kt)("td",{parentName:"tr",align:null},"add_payment_info"),(0,r.kt)("td",{parentName:"tr",align:null},"coupon (string), currency (string), payment_type (string), value (coalesce_float)")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"createAddShippingInfo"),(0,r.kt)("td",{parentName:"tr",align:null},"add_shipping_info"),(0,r.kt)("td",{parentName:"tr",align:null},"coupon (string), currency (string), shipping_tier (string), value (coalesce_float)")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"createAddToCart"),(0,r.kt)("td",{parentName:"tr",align:null},"add_to_cart"),(0,r.kt)("td",{parentName:"tr",align:null},"currency (string), value (coalesce_float)")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"createAddToWishlist"),(0,r.kt)("td",{parentName:"tr",align:null},"add_to_wishlist"),(0,r.kt)("td",{parentName:"tr",align:null},"currency (string), value (coalesce_float)")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"createBeginCheckout"),(0,r.kt)("td",{parentName:"tr",align:null},"begin_checkout"),(0,r.kt)("td",{parentName:"tr",align:null},"coupon (string), currency (string), value (coalesce_float)")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"createEarnVirtualCurrency"),(0,r.kt)("td",{parentName:"tr",align:null},"earn_virtual_currency"),(0,r.kt)("td",{parentName:"tr",align:null},"virtual_currency_name (string), value (coalesce_float)")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"createGenerateLead"),(0,r.kt)("td",{parentName:"tr",align:null},"generate_lead"),(0,r.kt)("td",{parentName:"tr",align:null},"value (coalesce_float), currency (string)")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"createJoinGroup"),(0,r.kt)("td",{parentName:"tr",align:null},"join_group"),(0,r.kt)("td",{parentName:"tr",align:null},"group_id (string)")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"createLevelEnd"),(0,r.kt)("td",{parentName:"tr",align:null},"level_end"),(0,r.kt)("td",{parentName:"tr",align:null},"level_name (string), success (string)")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"createLevelStart"),(0,r.kt)("td",{parentName:"tr",align:null},"level_start"),(0,r.kt)("td",{parentName:"tr",align:null},"level_name (string)")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"createLevelUp"),(0,r.kt)("td",{parentName:"tr",align:null},"level_up"),(0,r.kt)("td",{parentName:"tr",align:null},"character (string), level (int)")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"createLogin"),(0,r.kt)("td",{parentName:"tr",align:null},"login"),(0,r.kt)("td",{parentName:"tr",align:null},"method (string)")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"createPostScore"),(0,r.kt)("td",{parentName:"tr",align:null},"post_score"),(0,r.kt)("td",{parentName:"tr",align:null},"level (string), character (string), score (int)")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"createPurchase"),(0,r.kt)("td",{parentName:"tr",align:null},"purchase"),(0,r.kt)("td",{parentName:"tr",align:null},"coupon (string), currency (string), transaction_id (string), shipping (coalesce_float), tax (coalesce_float), value (coalesce_float)")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"createRefund"),(0,r.kt)("td",{parentName:"tr",align:null},"refund"),(0,r.kt)("td",{parentName:"tr",align:null},"coupon (string), currency (string), transaction_id (string), shipping (coalesce_float), tax (coalesce_float), value (coalesce_float)")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"createRemoveFromCart"),(0,r.kt)("td",{parentName:"tr",align:null},"remove_from_cart"),(0,r.kt)("td",{parentName:"tr",align:null},"currency (string), value (coalesce_float)")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"createSearch"),(0,r.kt)("td",{parentName:"tr",align:null},"search"),(0,r.kt)("td",{parentName:"tr",align:null},"search_term (string)")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"createSelectContent"),(0,r.kt)("td",{parentName:"tr",align:null},"select_content"),(0,r.kt)("td",{parentName:"tr",align:null},"content_type (string), item_id (string)")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"createSelectItem"),(0,r.kt)("td",{parentName:"tr",align:null},"select_item"),(0,r.kt)("td",{parentName:"tr",align:null},"item_list_name (string), item_list_id (string)")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"createSelectPromotion"),(0,r.kt)("td",{parentName:"tr",align:null},"select_promotion"),(0,r.kt)("td",{parentName:"tr",align:null},"promotion_id (string), promotion_name (string), creative_name (string), creative_slot (string)")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"createShare"),(0,r.kt)("td",{parentName:"tr",align:null},"share"),(0,r.kt)("td",{parentName:"tr",align:null},"content_type (string), item_id (string), method (string)")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"createSignUp"),(0,r.kt)("td",{parentName:"tr",align:null},"sign_up"),(0,r.kt)("td",{parentName:"tr",align:null},"method (string)")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"createSpendVirtualCurrency"),(0,r.kt)("td",{parentName:"tr",align:null},"spend_virtual_currency"),(0,r.kt)("td",{parentName:"tr",align:null},"item_name (string), virtual_currency_name (string), value (coalesce_float)")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"createTutorialBegin"),(0,r.kt)("td",{parentName:"tr",align:null},"tutorial_begin"),(0,r.kt)("td",{parentName:"tr",align:null})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"createTutorialComplete"),(0,r.kt)("td",{parentName:"tr",align:null},"tutorial_complete"),(0,r.kt)("td",{parentName:"tr",align:null})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"createUnlockAchievement"),(0,r.kt)("td",{parentName:"tr",align:null},"unlock_achievement"),(0,r.kt)("td",{parentName:"tr",align:null},"achievement_id (string)")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"createViewCart"),(0,r.kt)("td",{parentName:"tr",align:null},"view_cart"),(0,r.kt)("td",{parentName:"tr",align:null},"currency (string), value (coalesce_float)")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"createViewItem"),(0,r.kt)("td",{parentName:"tr",align:null},"view_item"),(0,r.kt)("td",{parentName:"tr",align:null},"currency (string), value (coalesce_float)")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"createViewItemList"),(0,r.kt)("td",{parentName:"tr",align:null},"view_item_list"),(0,r.kt)("td",{parentName:"tr",align:null},"item_list_name (string), item_list_id (string)")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"createViewPromotion"),(0,r.kt)("td",{parentName:"tr",align:null},"view_promotion"),(0,r.kt)("td",{parentName:"tr",align:null},"promotion_id (string), promotion_name (string), creative_name (string), creative_slot (string)")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"createClick"),(0,r.kt)("td",{parentName:"tr",align:null},"click"),(0,r.kt)("td",{parentName:"tr",align:null},"link_classes (string), link_domain (string), link_id (string), link_url (string), outbound (string)")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"createFileDownload"),(0,r.kt)("td",{parentName:"tr",align:null},"file_download"),(0,r.kt)("td",{parentName:"tr",align:null},"file_extension (string), file_name (string), link_classes (string), link_domain (string), link_id (string), link_text (string), link_url (string)")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"createFormStart"),(0,r.kt)("td",{parentName:"tr",align:null},"form_start"),(0,r.kt)("td",{parentName:"tr",align:null},"form_id (string), form_name (string), form_destination (string)")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"createFormSubmit"),(0,r.kt)("td",{parentName:"tr",align:null},"form_submit"),(0,r.kt)("td",{parentName:"tr",align:null},"form_id (string), form_name (string), form_destination (string), form_submit_text (string)")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"createScroll"),(0,r.kt)("td",{parentName:"tr",align:null},"scroll"),(0,r.kt)("td",{parentName:"tr",align:null},"engagement_time_msec (int)")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"createVideoComplete"),(0,r.kt)("td",{parentName:"tr",align:null},"video_complete"),(0,r.kt)("td",{parentName:"tr",align:null},"video_current_time (int), video_duration (int), video_percent (int), video_provider (string), video_title (string), video_url (string), visible (string)")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"createVideoProgress"),(0,r.kt)("td",{parentName:"tr",align:null},"video_progress"),(0,r.kt)("td",{parentName:"tr",align:null},"video_current_time (int), video_duration (int), video_percent (int), video_provider (string), video_title (string), video_url (string), visible (string)")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"createVideoStart"),(0,r.kt)("td",{parentName:"tr",align:null},"video_start"),(0,r.kt)("td",{parentName:"tr",align:null},"video_current_time (int), video_duration (int), video_percent (int), video_provider (string), video_title (string), video_url (string), visible (string)")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"createViewSearchResults"),(0,r.kt)("td",{parentName:"tr",align:null},"view_search_results"),(0,r.kt)("td",{parentName:"tr",align:null},"search_term (string)")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"createPageView"),(0,r.kt)("td",{parentName:"tr",align:null},"page_view"),(0,r.kt)("td",{parentName:"tr",align:null},"page_title (string), page_referrer (string)")))),(0,r.kt)("h2",{id:"create-and-reuse-custom-events-between-projects"},"Create and reuse custom events between projects"),(0,r.kt)("p",null,"Also EventFactory provides ",(0,r.kt)("inlineCode",{parentName:"p"},"createEvent")," method to create custom events. You could use this method by providing config with these properties:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"eventName")," - event name"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"eventParameters")," - list of event parameters"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"userProperties")," - list of user properties"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"queryParameters")," - list of query parameters")),(0,r.kt)("p",null,"For example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},'const sessionStart = ef.createEvent({\n  eventName: "session_start",\n  columns: [\n    { name: "privacy_info.analytics_storage", columnName: "analytics_storage" },\n  ],\n  eventParams: [{ name: "page_referrer", type: "string" }],\n});\nsessionStart.publish();\n')),(0,r.kt)("p",null,"Read more about ",(0,r.kt)("a",{parentName:"p",href:"/api#module_dataform-ga4-sessions..EventFactory+createEvent"},"createEvent method")),(0,r.kt)("p",null,"EventFactory also provides ",(0,r.kt)("a",{parentName:"p",href:"/api#module_dataform-ga4-sessions..EventFactory+createEvents"},"createEvents")," method to create a few custom events at once based on the list of event configs. So if you have standard setup between projects you could save the event configs in the separate file in ",(0,r.kt)("inlineCode",{parentName:"p"},"includes")," folder and reuse it to create all needed events. For example, you could save config like this:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript",metastring:"title=includes/project_events.js",title:"includes/project_events.js"},'const config = [\n  {\n    eventName: "session_start",\n    columns: [\n      {\n        name: "privacy_info.analytics_storage",\n        columnName: "analytics_storage",\n      },\n    ],\n    eventParams: [{ name: "page_referrer", type: "string" }],\n  },\n  {\n    eventName: "profit_event",\n    columns: [\n      {\n        name: "privacy_info.analytics_storage",\n        columnName: "analytics_storage",\n      },\n    ],\n    eventParams: [{ name: "profit_description", type: "string" }],\n  },\n];\nmodule.exports = { config };\n')),(0,r.kt)("p",null,"And reuse it like this:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript",metastring:"title=definitions/events.js",title:"definitions/events.js"},'// Import package\nconst ga4 = require("dataform-ga4-sessions");\n// Create event factory object\nlet ef = new ga4.EventFactory(config);\n// Create all events\nlet events = ef.createEvents(project_events.configs);\n// Publish events\nevents.forEach((event) => event.publish());\n')),(0,r.kt)("h2",{id:"change-target-schema-for-all-events"},"Change target schema for all events"),(0,r.kt)("p",null,"To set target schema for all events you could use ",(0,r.kt)("inlineCode",{parentName:"p"},"targetSchema")," property. For example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},'// Define EventFactory\nconst ef = new ga4.EventFactory(eventConfig);\n// Set target schema for all events created by factory\nef.targetSchema = "my_schema";\nlet events = ef.createEcommerceEvents();\nevents.forEach((event) => {\n  // But you could overwrite target schema for particular event\n  if (event.target.tableName === "purchase") {\n    event.target.schema = " my_schema_2";\n  }\n  event.publish();\n});\n')))}d.isMDXComponent=!0}}]);